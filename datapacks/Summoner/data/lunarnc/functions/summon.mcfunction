execute if entity @s[nbt={SelectedItem:{tag:{mob:"ghast"}}}] run summon ghast ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"husk"}}}] run summon husk ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"wither_skeleton"}}}] run summon wither_skeleton ^ ^1 ^2 {HandItems:[{id:"minecraft:bow",Count:1b,tag:{AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:1,Operation:0,UUID:[I;-55720091,611075810,-1271712052,-552013438]}]}},{}],Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"skeleton"}}}] run summon skeleton ^ ^1 ^2 {HandItems:[{id:"minecraft:bow",Count:1b,tag:{AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:1,Operation:0,UUID:[I;-55720091,611075810,-1271712052,-552013438]}]}},{}],Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"stray"}}}] run summon stray ^ ^1 ^2 {HandItems:[{id:"minecraft:bow",Count:1b,tag:{AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:1,Operation:0,UUID:[I;-55720091,611075810,-1271712052,-552013438]}]}},{}],Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"drowned"}}}] run summon drowned ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"vindicator"}}}] run summon vindicator ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"evoker"}}}] run summon evoker ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"pillager"}}}] run summon pillager ^ ^1 ^2 {HandItems:[{id:"minecraft:crossbow",Count:1b,tag:{AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:1,Operation:0,UUID:[I;-55720091,611075810,-1271712052,-552013438]}]}},{}],Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"zombie"}}}] run summon zombie ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"creeper"}}}] run summon creeper ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"spider"}}}] run summon spider ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"cave_spider"}}}] run summon cave_spider ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"magma_cube"}}}] run summon magma_cube ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"witch"}}}] run summon witch ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}
execute if entity @s[nbt={SelectedItem:{tag:{mob:"zombified_piglin"}}}] run summon zombified_piglin ^ ^1 ^2 {Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}

execute if entity @s[nbt={SelectedItem:{tag:{mob:"piglin_brute"}}}] run summon piglin_brute ^ ^1 ^2 {HandItems:[{id:"minecraft:golden_axe",Count:1b,tag:{AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:1,Operation:0,UUID:[I;-55720091,611075810,-1271712052,-552013438]}]}},{}],Team:"lc_Necro",Tags:["lnc_Minion"],Attributes:[{Name:"generic.max_health",Base:100},{Name:"generic.follow_range",Base:32},{Name:"generic.knockback_resistance",Base:1},{Name:"generic.attack_damage",Base:1},{Name:"generic.armor",Base:1}]}

execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] Attributes[{Name:"minecraft:generic.max_health"}].Base set from entity @s SelectedItem.tag.Health
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] Health set from entity @s SelectedItem.tag.Health
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] Attributes[{Name:"minecraft:generic.armor"}].Base set from entity @s SelectedItem.tag.Armor
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] Attributes[{Name:"minecraft:generic.attack_damage"}].Base set from entity @s SelectedItem.tag.AD
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] Size set from entity @s SelectedItem.tag.Size
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] IsImmuneToZombification set value 1
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] CanPickUpLoot set value 1b
execute positioned ^ ^1 ^2 at @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] run data modify entity @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] DeathLootTable set value "empty"
execute positioned ^ ^1 ^2 run power grant @e[tag=lnc_Minion,distance=..1,sort=nearest,limit=1] lunarnc:minions/kill

execute if entity @s[nbt={SelectedItem:{tag:{mob:"spider"}}}] run advancement grant @s only lunarnc:spider
execute if entity @s[nbt={SelectedItem:{tag:{mob:"skeleton"}}}] run advancement grant @s only lunarnc:owskele
execute if entity @s[nbt={Dimension:"minecraft:overworld",SelectedItem:{tag:{mob:"wither_skeleton"}}}] run advancement grant @s only lunarnc:skeleton
execute if entity @s[nbt={Dimension:"minecraft:overworld",SelectedItem:{tag:{mob:"piglin_brute"}}}] run advancement grant @s only lunarnc:brute
advancement grant @s only lunarnc:summon


resource change @s lunarnc:soul_bar -5
item modify entity @s weapon.mainhand lunarnc:consume