{
	"name": "Master of The Shadows",
	"description": "When sneaking you gain invisibility and night vision, but you cannot attack.",
	"type": "origins:multiple",

    "timer": {
    "type":"origins:resource",
	    "min":0,
	    "max":2,
	    "start_value":2,
	    "hud_render":{
		    "should_render":false
	    }
    },

    "countdown": {
    "type": "origins:action_over_time",
	"entity_action": {
		"type": "origins:change_resource",
		"resource":"crow:stealth_timer",
		"change":-1
	},
	    "interval": 30
    },

    "hit_check": {
        "type": "origins:self_action_on_hit",
        "entity_action":{
	    "type": "origins:change_resource",
	        "resource": "crow:stealth_timer",
	        "change": 4
        }
    },

    "when_hit_check": {
        "type": "origins:self_action_when_hit",
        "entity_action":{
	    "type": "origins:change_resource",
	        "resource": "crow:stealth_timer",
	        "change": 4
        }
    },

    "no_items":{
		"type": "origins:prevent_item_use",
        "condition": {
            "type": "origins:and",
            "conditions": [
                {
                    "type": "origins:sneaking"
                },
                {
                    "type": "origins:fall_flying",
                    "inverted": true
                },
                {      
                    "type": "origins:resource",
                    "resource": "crow:stealth_timer",
                    "comparison":"<=",
                    "compare_to": 0
                }
            ]    
        }
	},

    "space_check": {
    "type": "origins:active_self",
    "entity_action":
        {
            "type": "origins:change_resource",
            "resource": "crow:stealth_timer",
            "change": 4
        },
        "key": {
            "key": "key.jump",
            "continuous": true
        },
        "cooldown": 4,
        "hud_render": {
            "should_render": false
        }
    },

    "invis": {
    "type": "origins:invisibility",
    "render_armor": false,
        "condition": {
        "type": "origins:and",
        "conditions": [
            {
                "type": "origins:sneaking"
            },
		    {
		        "type": "origins:fall_flying",
		        "inverted": true
		    },
            {      
                "type": "origins:resource",
                "resource": "crow:stealth_timer",
                "comparison":"<=",
                "compare_to": 0
            }
            ]    
        }
    },

    "effects": {
        "type": "origins:stacking_status_effect",
		"min_stacks": 0,
		"max_stacks": 1,
		"duration_per_stack": 30,
		"effects": [
			{
				"effect": "minecraft:mining_fatigue",
				"is_ambient": true,
				"show_particles": false,
				"show_icon": true,
				"amplifier": 25
			},
			{
				"effect": "minecraft:night_vision",
				"is_ambient": true,
				"show_particles": false,
				"show_icon": true,
				"amplifier": 0
			}
		],
	"condition": {
        "type": "origins:and",
        "conditions": [
            {
                "type": "origins:sneaking"
            },
		    {
		        "type": "origins:fall_flying",
		        "inverted": true
		    },
            {      
                "type": "origins:resource",
                "resource": "crow:stealth_timer",
                "comparison":"<=",
                "compare_to": 0
            }
            ]    
        }
    },

    "glow": {
    "type": "origins:entity_glow",
    "condition": {
        "type": "origins:and",
        "conditions": [
        {
            "type": "origins:sneaking"
        },
        {
            "type": "origins:fall_flying",
            "inverted": true
        },
        {      
            "type": "origins:resource",
            "resource": "crow:stealth_timer",
            "comparison":"<=",
            "compare_to": 0
        }
        ]
    },
    "bientity_condition": {
        "type": "origins:distance",
        "comparison": "<=",
        "compare_to": 14
    },
        "use_teams": false,
        "red": 0.0,
        "green": 0.0,
        "blue": 0.0
    }
}